{% extends "base.html" %}
{% block body %}
    <h1>Welcome!</h1>
    {% if 'username' in session %}
        <p>Welcome back {{session['username']}}!</p>
        <form action="{{url_for('index')}}" method="post">
            <input type="submit" name="logout" value="Logout">
        </form>
    {% else %}
        <form action="{{url_for('index')}}" method="post">
            <p>Username: <br />
            <input type="text" name="username" /></p>
            <p>Password: <br />
            <input type="password" name="password" /></p>
            <p><input type="submit" name="login" value="Login" /></p>
        </form>
    {% endif %}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <pre>
                {% for message in messages %}
                    {{message}}
                {% endfor %}
            </pre>
        {% endif %}
    {% endwith %}
{% endblock %}